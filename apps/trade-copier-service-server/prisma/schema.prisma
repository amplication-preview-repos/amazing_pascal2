datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Trade {
  id          String    @id @default(cuid())
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  symbolField String?
  volume      Float?
  price       Float?
  typeField   String?
  openTime    DateTime?
  closeTime   DateTime?
  user        User?     @relation(fields: [userId], references: [id])
  userId      String?
}

model AccessCode {
  id             String    @id @default(cuid())
  createdAt      DateTime  @default(now())
  updatedAt      DateTime  @updatedAt
  code           String?
  expirationDate DateTime?
  user           User?     @relation(fields: [userId], references: [id])
  userId         String?
}

model Payment {
  id              String             @id @default(cuid())
  createdAt       DateTime           @default(now())
  updatedAt       DateTime           @updatedAt
  amount          Float?
  status          EnumPaymentStatus?
  transactionDate DateTime?
  user            User?              @relation(fields: [userId], references: [id])
  userId          String?
}

model User {
  id          String       @id @default(cuid())
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
  firstName   String?
  lastName    String?
  username    String       @unique
  email       String?      @unique
  password    String
  roles       Json
  payments    Payment[]
  trades      Trade[]
  accessCodes AccessCode[]
}

enum EnumPaymentStatus {
  Option1
}
